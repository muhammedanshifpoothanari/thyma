
<%- include('../layout/header.ejs') %>

<%- include('../layout/nav.ejs') %>
<style>
	  .carousel-container {
  position: relative;
  width: 100%;
  height: 400px;
  overflow: hidden;
  background-color: aqua;
}

.carousel-item {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  opacity: 0;
  transition: opacity 1s ease-in-out;
  
}

.carousel-item.active {
  opacity: 1;
}

.carousel-caption {
  position: absolute;
  bottom: 20%;
  left: 20%;
  right: 20%;
  color: #fff;
}

.carousel-control-prev,
.carousel-control-next {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  width: 30px;
  height: 30px;
  background-color: rgba(0, 0, 0, 0.5);
  border-radius: 50%;
  z-index: 1;
  text-align: center;
  line-height: 1.5;
}

.carousel-control-prev-icon,
.carousel-control-next-icon {
  display: inline-block;
  font-size: 20px;
  color: #fff;
}

.carousel-control-prev {
  left: 20px;
}

.carousel-control-next {
  right: 20px;
}
</style>
<% if (modalData) { %>
	<div class="modal">
	  <h2><%= modalData.title %></h2>
	  <p><%= modalData.message %></p>
	</div>
  <% } %>


  <div class="carousel-container">
    <% banners.forEach((banner, index) => { %>
      <div class="carousel-item <% if (index == 0) { %>active<% } %>" style="background-image: url('/userimages/<%=banner.image%>');background-size: cover;">
        <div class="carousel-caption">
          <h3 style="color: #fff;"><%= banner.title %></h3>
          <a style="color: #62b424;" href="<%= banner.link %>">know more</p>
        </div>
      </div>
    <% }); %>
  
    <a class="carousel-control-prev" href="#" onclick="prevSlide()">
      <span class="carousel-control-prev-icon"></span>
    </a>
    <a class="carousel-control-next" href="#" onclick="nextSlide()">
      <span class="carousel-control-next-icon"></span>
    </a>
  </div>
	<div class="col-md-6 mb-4" style="padding-top: 20px;margin-left: 20%;">
		<form action="/home" method="get" class="d-flex">
		  <input type="text" class="form-control me-2" placeholder="Search for products" name="Search">
		  <button type="submit" class="btn btn-primary">
			<i class="fa">&#xf002;</i>

		  </button>
		</form>
	 
	</div>
	
    <section class="ftco-section">
    	<div class="container">
    		<div class="row justify-content-center">
    			<div class="col-md-10 mb-5 text-center">
					<form action="" method="get" class="d-flex">  
						<ul class="pagination justify-content-end align-items-center flex-wrap" style="margin-left: 15%;">
							<li class="page-item">
								<form action="" method="get">
								  <button class="page-link <%= originQuery === 'all' ? 'active' : '' %>" name="origin" value="all">All</button>
								</form>
							  </li>
							<li class="page-item">
							  <form action="" method="get">
								<button class="page-link <%= originQuery === 'jhordan' ? 'active' : '' %>" name="origin" value="jhordan">jhordan</button>
							  </form>
							</li>
							<li class="page-item">
							  <form action="" method="get">
								<button class="page-link <%= originQuery === 'tabuk' ? 'active' : '' %>" name="origin" value="tabuk">tabuk</button>
							  </form>
							</li>
							<li class="page-item">
							  <form action="" method="get">
								<button class="page-link <%= originQuery === 'rajasthan' ? 'active' : '' %>" name="origin" value="rajasthan">rajasthan</button>
							  </form>
							</li>
							<li class="page-item">
							  <form action="" method="get">
								<button class="page-link <%= originQuery === 'madheena' ? 'active' : '' %>" name="origin" value="madheena">madheena</button>
							  </form>
							</li>
							<li class="page-item">
							  <form action="" method="get">
								<button class="page-link <%= originQuery === 'al qassim' ? 'active' : '' %>" name="origin" value="alqassim">al qassim</button>
							  </form>
							</li>
						  </ul>
					  </form>
    			</div>
    		</div>
			<div class="container">
				<!--  -->
				<div class="row">
				  <% Products.forEach((product) => { %>
				  <div class="col-sm-6 col-md-4 col-lg-3 ftco-animate">
					<div class="product">
					  <a href="#" class="img-prod">

                      <img class="img-fluid" src="/userimages/<%=product.image[0]%>" alt="Product Image">				
			     		<div class="overlay"></div>
					  </a>
					  <div class="text py-3 pb-4 px-3 text-center">
						<h3><a href="#"><%=product.name%></a></h3>
						<div class="d-flex">
						  <div class="pricing">
							<p class="price"><span class="mr-2 price-dc"></span><span class="price-sale"><%=product.price%></span></p>
						  </div>
						</div>
						<div class="bottom-area d-flex px-3">
						  <div class="m-auto d-flex">
							<a href="/productDetails?productId=<%= product._id %>" class="add-to-cart d-flex justify-content-center align-items-center text-center">
							  <span><i class="ion-ios-menu"></i></span>
							</a>
						  </div>
						</div>
					  </div>
					</div>
				  </div>
				  <% }); %>
				</div>
			  </div>
    		<div class="row mt-5">
          <div class="col text-center">
            <div class="block-27" style="padding-left: 35%;">
				<ul class="pagination" >
					<li class="page-item" >
					  <form action="" method="get">
						<button class="page-link"  type="submit" name="page" value="1">1</button>
					  </form>
					</li>
					<li class="page-item">
					  <form action="" method="get">
						<button class="page-link"  type="submit" name="page" value="2">2</button>
					  </form>
			  </li>
					<li class="page-item">
					  <form action="" method="get">
						<button class="page-link" type="submit" name="page" value="3">3</button>
					  </form>
            </div>
          </div>
        </div>
    	</div>
    </section>
	
	<script>
		let currentSlide = 0;
const slides = document.querySelectorAll('.carousel-item');
const totalSlides = slides.length;

function showSlide(n) {
  // hide all slides
  slides.forEach(slide => slide.classList.remove('active'));

  // show the selected slide
  slides[n].classList.add('active');

  // update current slide index
  currentSlide = n;
}

function nextSlide() {
  if (currentSlide == totalSlides - 1) {
    // go back to the first slide if at the end
    showSlide(0);
  } else {
    // show the next slide
    showSlide(currentSlide + 1);
  }
}

function prevSlide() {
  if (currentSlide == 0) {
    // go to the last slide if at the beginning
    showSlide(totalSlides - 1);
  } else {
    // show the previous slide
    showSlide(currentSlide - 1);
  }
}

// show the first slide initially
showSlide(0);

// set interval to automatically show next slide every 5 seconds
setInterval(() => {
  nextSlide();
}, 5000);
	  </script>
	  

	    <%- include('../layout/footer.ejs') %>